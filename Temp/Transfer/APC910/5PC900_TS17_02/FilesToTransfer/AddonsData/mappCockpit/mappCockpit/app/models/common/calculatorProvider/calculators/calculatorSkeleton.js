var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
define(["require", "exports", "./calculatorBase", "../calculationDataPoints", "../calculationDataDisplayInfo"], function (require, exports, calculatorBase_1, calculationDataPoints_1, calculationDataDisplayInfo_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /********************************************************************************************************************************************************
     *   This skeleton should assist in creating new calculators.                                                                                           *
     *   Copy the content into a new file within the folder "src/app/models/common/calculatorProvider/calculators/".                                        *
     *   Change the class name to a meaningful name for YOUR calculator.                                                                                    *
     *   Implement your specific functionality in the marked areas within each function.                                                                    *
     *   It is recommended and the default of this skeleton, to call the overridden functions of the base class to utilize centralized common behaviour.    *
     *   To not perform the default behavior when overriding, delete the super calls.                                                                       *
     *   Remove functions only if you dont provide a specialised behavior (careful, some default implementations might do nothing).                         *
     *   You may introduce new functions to use within the provided (overridden) functions whenever necessary.                                              *
     *   After finishing the implementation, remove the skeleton specific comments and add your own code documentation/comments.                            *
     *                                                                                                                                                      *
     *   ATTENTION: The functions in this skeleton are overrides. Do not change the function signature.                                                     *
     *   ATTENTION: Do not forget to export the new calculator class to make it available in other code files.                                              *
     *   ATTENTION: Make sure to add your calculator to the CalculatorProvider in the file 'calculatorProvider.ts' to be able to access it within the UI.   *
     ********************************************************************************************************************************************************/
    var CalculatorSkeleton = /** @class */ (function (_super) {
        __extends(CalculatorSkeleton, _super);
        /**************************************************************************************************************************************************/
        function CalculatorSkeleton() {
            var _this = _super.call(this, "calculator id here", "calculator display name here", "calculator description here") || this;
            /*************************************************************************************************************************************************
             * Use private properties to have centralized control over displaynames and others.                                                              *
             * A minimal basic example is implemented to provide an idea of the naming and the purpose.                                                      *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            _this.inputId = "id for input signal here";
            _this.inputName = "displayname for input signal here";
            _this.outputId = "id for output signal here";
            _this.outputName = "displayname for output signal here";
            _this.outputValue = "signalname for output signal here";
            return _this;
        }
        CalculatorSkeleton.prototype.getDefaultInputData = function () {
            var defaultInputData = _super.prototype.getDefaultInputData.call(this);
            /*************************************************************************************************************************************************
             *   Add your default input data here (Push it on the array defaultInputData).                                                                   *
             *   You can accept a number (CalculationDataNumber) or a signal (CalculationDataPoints) or both (CalculationDataNumberOrPoints) as input.       *
             *   You can also accept a string (CalculationDataString) as input                                                                               *
             *   Consider to store the displaynames as private property.                                                                                     *
             *   A minimal basic example is implemented where one signal is the default input data.                                                          *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            defaultInputData.push(new calculationDataPoints_1.CalculationDataPoints(this.inputId, this.inputName, "", new Array(), "description for the input signal here", new calculationDataDisplayInfo_1.CalculationDataDisplayInfo(false, true)));
            /**************************************************************************************************************************************************/
            return defaultInputData;
        };
        CalculatorSkeleton.prototype.getDefaultOutputData = function () {
            var defaultOutputData = _super.prototype.getDefaultOutputData.call(this);
            /*************************************************************************************************************************************************
             *   Add your default output data here (Push it on the array defaultOuputData).                                                                  *
             *   Consider to store the displaynames and signalnames as private property.                                                                     *
             *   A minimal basic example is implemented where one signal is the default putput data.                                                         *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            defaultOutputData.push(new calculationDataPoints_1.CalculationDataPoints(this.outputId, this.outputName, this.outputValue, new Array()));
            /**************************************************************************************************************************************************/
            return defaultOutputData;
        };
        CalculatorSkeleton.prototype.prepareCalculationData = function () {
            _super.prototype.prepareCalculationData.call(this);
            //retrieve calculation input data
            var calculationInputDataContainer = this.getCalculationInputDataContainer();
            /*************************************************************************************************************************************************
             *   Perform necessary data preparations for the calculator here.                                                                                *
             *   This data preparations are performed before verification of the calculation input data takes place.                                         *
             *   Store the changed data in the data property of the respective CalculationInputData.                                                         *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
        };
        CalculatorSkeleton.prototype.verifyCalculationInputData = function () {
            _super.prototype.verifyCalculationInputData.call(this);
            //retrieve calculation input data
            var calculationInputDataContainer = this.getCalculationInputDataContainer();
            /*************************************************************************************************************************************************
             *   Verify the calculation input data here.                                                                                                     *
             *   Add an error with addErrorByType() or addError() methods id something is wrong.                                                             *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
        };
        CalculatorSkeleton.prototype.executeAlgorithm = function () {
            _super.prototype.executeAlgorithm.call(this);
            //retrieve calculation input data and initialize result
            var calculationInputData = this.getCalculationInputDataContainer();
            var result = new Array();
            /*************************************************************************************************************************************************
             *   Execute the algorithm your calculator represents here.                                                                                      *
             *   Store the result of the algorithm in the array result.                                                                                      *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            //add the result of the calculation to the calculationOutpuContainer
            this.addCalculationOutputData({
                data: result,
                value: this.outputValue,
                name: this.outputName,
                id: this.outputId
            });
        };
        CalculatorSkeleton.prototype.verifyCalculationOutputData = function () {
            _super.prototype.verifyCalculationOutputData.call(this);
            //retrieve calculation output data
            var calculationOutputDataContainer = this.getCalculationOutputDataContainer();
            /*************************************************************************************************************************************************
             *   Verify the calculation output data here.                                                                                                    *
             *   Add an error with addErrorByType() or addError() methods if something is wrong.                                                             *
             *************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
            /**************************************************************************************************************************************************/
        };
        return CalculatorSkeleton;
    }(calculatorBase_1.CalculatorBase));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRvclNrZWxldG9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2FwcC9tb2RlbHMvY29tbW9uL2NhbGN1bGF0b3JQcm92aWRlci9jYWxjdWxhdG9ycy9jYWxjdWxhdG9yU2tlbGV0b24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztJQU9BOzs7Ozs7Ozs7Ozs7Ozs4SkFjMEo7SUFFMUo7UUFBaUMsc0NBQWM7UUFZM0Msb0pBQW9KO1FBRXBKO1lBQUEsWUFDSSxrQkFBTSxvQkFBb0IsRUFBRSw4QkFBOEIsRUFBRSw2QkFBNkIsQ0FBQyxTQUM3RjtZQWREOzs7K0pBR21KO1lBQ25KLG9KQUFvSjtZQUM1SSxhQUFPLEdBQUcsMEJBQTBCLENBQUM7WUFDckMsZUFBUyxHQUFHLG1DQUFtQyxDQUFDO1lBQ2hELGNBQVEsR0FBRywyQkFBMkIsQ0FBQztZQUN2QyxnQkFBVSxHQUFHLG9DQUFvQyxDQUFDO1lBQ2xELGlCQUFXLEdBQUcsbUNBQW1DLENBQUM7O1FBSzFELENBQUM7UUFFTSxnREFBbUIsR0FBMUI7WUFDSSxJQUFJLGdCQUFnQixHQUFHLGlCQUFNLG1CQUFtQixXQUFFLENBQUM7WUFFbkQ7Ozs7OzsrSkFNbUo7WUFDbkosb0pBQW9KO1lBQ3BKLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDZDQUFxQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsSUFBSSxLQUFLLEVBQVUsRUFBRSx1Q0FBdUMsRUFBRSxJQUFJLHVEQUEwQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUwsb0pBQW9KO1lBRXBKLE9BQU8sZ0JBQWdCLENBQUM7UUFDNUIsQ0FBQztRQUVNLGlEQUFvQixHQUEzQjtZQUNJLElBQUksaUJBQWlCLEdBQUcsaUJBQU0sb0JBQW9CLFdBQUUsQ0FBQztZQUVyRDs7OzsrSkFJbUo7WUFDbkosb0pBQW9KO1lBQ3BKLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLDZDQUFxQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksS0FBSyxFQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ3pILG9KQUFvSjtZQUVwSixPQUFPLGlCQUFpQixDQUFDO1FBQzdCLENBQUM7UUFFUyxtREFBc0IsR0FBaEM7WUFDSSxpQkFBTSxzQkFBc0IsV0FBRSxDQUFDO1lBRS9CLGlDQUFpQztZQUNqQyxJQUFJLDZCQUE2QixHQUFHLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxDQUFDO1lBRTVFOzs7OytKQUltSjtZQUNuSixvSkFBb0o7WUFHcEosb0pBQW9KO1FBQ3hKLENBQUM7UUFFUyx1REFBMEIsR0FBcEM7WUFDSSxpQkFBTSwwQkFBMEIsV0FBRSxDQUFDO1lBRW5DLGlDQUFpQztZQUNqQyxJQUFJLDZCQUE2QixHQUFHLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxDQUFDO1lBRTVFOzs7K0pBR21KO1lBQ25KLG9KQUFvSjtZQUdwSixvSkFBb0o7UUFDeEosQ0FBQztRQUVTLDZDQUFnQixHQUExQjtZQUNJLGlCQUFNLGdCQUFnQixXQUFFLENBQUE7WUFFeEIsdURBQXVEO1lBQ3ZELElBQUksb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGdDQUFnQyxFQUFFLENBQUM7WUFDbkUsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQztZQUVqQzs7OytKQUdtSjtZQUNuSixvSkFBb0o7WUFHcEosb0pBQW9KO1lBRXBKLG9FQUFvRTtZQUNwRSxJQUFJLENBQUMsd0JBQXdCLENBQUM7Z0JBQzFCLElBQUksRUFBRSxNQUFNO2dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVztnQkFDdkIsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVO2dCQUNyQixFQUFFLEVBQUUsSUFBSSxDQUFDLFFBQVE7YUFDcEIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUVTLHdEQUEyQixHQUFyQztZQUNJLGlCQUFNLDJCQUEyQixXQUFFLENBQUM7WUFFcEMsa0NBQWtDO1lBQ2xDLElBQUksOEJBQThCLEdBQUcsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLENBQUM7WUFFOUU7OzsrSkFHbUo7WUFDbkosb0pBQW9KO1lBR3BKLG9KQUFvSjtRQUN4SixDQUFDO1FBQ0wseUJBQUM7SUFBRCxDQUFDLEFBM0hELENBQWlDLCtCQUFjLEdBMkg5QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbGN1bGF0b3JCYXNlIH0gZnJvbSBcIi4vY2FsY3VsYXRvckJhc2VcIjtcclxuaW1wb3J0IHsgQ2FsY3VsYXRpb25EYXRhUG9pbnRzIH0gZnJvbSBcIi4uL2NhbGN1bGF0aW9uRGF0YVBvaW50c1wiO1xyXG5pbXBvcnQgeyBJUG9pbnQgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9wb2ludEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvbkRhdGFEaXNwbGF5SW5mbyB9IGZyb20gXCIuLi9jYWxjdWxhdGlvbkRhdGFEaXNwbGF5SW5mb1wiO1xyXG5pbXBvcnQgeyBUQ2FsY3VsYXRpb25EYXRhIH0gZnJvbSBcIi4uL2NhbGN1bGF0aW9uRGF0YVwiO1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgIFRoaXMgc2tlbGV0b24gc2hvdWxkIGFzc2lzdCBpbiBjcmVhdGluZyBuZXcgY2FsY3VsYXRvcnMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICBDb3B5IHRoZSBjb250ZW50IGludG8gYSBuZXcgZmlsZSB3aXRoaW4gdGhlIGZvbGRlciBcInNyYy9hcHAvbW9kZWxzL2NvbW1vbi9jYWxjdWxhdG9yUHJvdmlkZXIvY2FsY3VsYXRvcnMvXCIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICBDaGFuZ2UgdGhlIGNsYXNzIG5hbWUgdG8gYSBtZWFuaW5nZnVsIG5hbWUgZm9yIFlPVVIgY2FsY3VsYXRvci4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgSW1wbGVtZW50IHlvdXIgc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSBpbiB0aGUgbWFya2VkIGFyZWFzIHdpdGhpbiBlYWNoIGZ1bmN0aW9uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgIEl0IGlzIHJlY29tbWVuZGVkIGFuZCB0aGUgZGVmYXVsdCBvZiB0aGlzIHNrZWxldG9uLCB0byBjYWxsIHRoZSBvdmVycmlkZGVuIGZ1bmN0aW9ucyBvZiB0aGUgYmFzZSBjbGFzcyB0byB1dGlsaXplIGNlbnRyYWxpemVkIGNvbW1vbiBiZWhhdmlvdXIuICAgICpcclxuICogICBUbyBub3QgcGVyZm9ybSB0aGUgZGVmYXVsdCBiZWhhdmlvciB3aGVuIG92ZXJyaWRpbmcsIGRlbGV0ZSB0aGUgc3VwZXIgY2FsbHMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgUmVtb3ZlIGZ1bmN0aW9ucyBvbmx5IGlmIHlvdSBkb250IHByb3ZpZGUgYSBzcGVjaWFsaXNlZCBiZWhhdmlvciAoY2FyZWZ1bCwgc29tZSBkZWZhdWx0IGltcGxlbWVudGF0aW9ucyBtaWdodCBkbyBub3RoaW5nKS4gICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgIFlvdSBtYXkgaW50cm9kdWNlIG5ldyBmdW5jdGlvbnMgdG8gdXNlIHdpdGhpbiB0aGUgcHJvdmlkZWQgKG92ZXJyaWRkZW4pIGZ1bmN0aW9ucyB3aGVuZXZlciBuZWNlc3NhcnkuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICBBZnRlciBmaW5pc2hpbmcgdGhlIGltcGxlbWVudGF0aW9uLCByZW1vdmUgdGhlIHNrZWxldG9uIHNwZWNpZmljIGNvbW1lbnRzIGFuZCBhZGQgeW91ciBvd24gY29kZSBkb2N1bWVudGF0aW9uL2NvbW1lbnRzLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgIEFUVEVOVElPTjogVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIHNrZWxldG9uIGFyZSBvdmVycmlkZXMuIERvIG5vdCBjaGFuZ2UgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICBBVFRFTlRJT046IERvIG5vdCBmb3JnZXQgdG8gZXhwb3J0IHRoZSBuZXcgY2FsY3VsYXRvciBjbGFzcyB0byBtYWtlIGl0IGF2YWlsYWJsZSBpbiBvdGhlciBjb2RlIGZpbGVzLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgQVRURU5USU9OOiBNYWtlIHN1cmUgdG8gYWRkIHlvdXIgY2FsY3VsYXRvciB0byB0aGUgQ2FsY3VsYXRvclByb3ZpZGVyIGluIHRoZSBmaWxlICdjYWxjdWxhdG9yUHJvdmlkZXIudHMnIHRvIGJlIGFibGUgdG8gYWNjZXNzIGl0IHdpdGhpbiB0aGUgVUkuICAgKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5jbGFzcyBDYWxjdWxhdG9yU2tlbGV0b24gZXh0ZW5kcyBDYWxjdWxhdG9yQmFzZSB7XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAqIFVzZSBwcml2YXRlIHByb3BlcnRpZXMgdG8gaGF2ZSBjZW50cmFsaXplZCBjb250cm9sIG92ZXIgZGlzcGxheW5hbWVzIGFuZCBvdGhlcnMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgKiBBIG1pbmltYWwgYmFzaWMgZXhhbXBsZSBpcyBpbXBsZW1lbnRlZCB0byBwcm92aWRlIGFuIGlkZWEgb2YgdGhlIG5hbWluZyBhbmQgdGhlIHB1cnBvc2UuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICBwcml2YXRlIGlucHV0SWQgPSBcImlkIGZvciBpbnB1dCBzaWduYWwgaGVyZVwiO1xyXG4gICAgcHJpdmF0ZSBpbnB1dE5hbWUgPSBcImRpc3BsYXluYW1lIGZvciBpbnB1dCBzaWduYWwgaGVyZVwiO1xyXG4gICAgcHJpdmF0ZSBvdXRwdXRJZCA9IFwiaWQgZm9yIG91dHB1dCBzaWduYWwgaGVyZVwiO1xyXG4gICAgcHJpdmF0ZSBvdXRwdXROYW1lID0gXCJkaXNwbGF5bmFtZSBmb3Igb3V0cHV0IHNpZ25hbCBoZXJlXCI7XHJcbiAgICBwcml2YXRlIG91dHB1dFZhbHVlID0gXCJzaWduYWxuYW1lIGZvciBvdXRwdXQgc2lnbmFsIGhlcmVcIjtcclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJjYWxjdWxhdG9yIGlkIGhlcmVcIiwgXCJjYWxjdWxhdG9yIGRpc3BsYXkgbmFtZSBoZXJlXCIsIFwiY2FsY3VsYXRvciBkZXNjcmlwdGlvbiBoZXJlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZWZhdWx0SW5wdXREYXRhKCk6IEFycmF5PFRDYWxjdWxhdGlvbkRhdGE+IHtcclxuICAgICAgICBsZXQgZGVmYXVsdElucHV0RGF0YSA9IHN1cGVyLmdldERlZmF1bHRJbnB1dERhdGEoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKiAgIEFkZCB5b3VyIGRlZmF1bHQgaW5wdXQgZGF0YSBoZXJlIChQdXNoIGl0IG9uIHRoZSBhcnJheSBkZWZhdWx0SW5wdXREYXRhKS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAqICAgWW91IGNhbiBhY2NlcHQgYSBudW1iZXIgKENhbGN1bGF0aW9uRGF0YU51bWJlcikgb3IgYSBzaWduYWwgKENhbGN1bGF0aW9uRGF0YVBvaW50cykgb3IgYm90aCAoQ2FsY3VsYXRpb25EYXRhTnVtYmVyT3JQb2ludHMpIGFzIGlucHV0LiAgICAgICAqXHJcbiAgICAgICAgICogICBZb3UgY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nIChDYWxjdWxhdGlvbkRhdGFTdHJpbmcpIGFzIGlucHV0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKiAgIENvbnNpZGVyIHRvIHN0b3JlIHRoZSBkaXNwbGF5bmFtZXMgYXMgcHJpdmF0ZSBwcm9wZXJ0eS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAqICAgQSBtaW5pbWFsIGJhc2ljIGV4YW1wbGUgaXMgaW1wbGVtZW50ZWQgd2hlcmUgb25lIHNpZ25hbCBpcyB0aGUgZGVmYXVsdCBpbnB1dCBkYXRhLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIGRlZmF1bHRJbnB1dERhdGEucHVzaChuZXcgQ2FsY3VsYXRpb25EYXRhUG9pbnRzKHRoaXMuaW5wdXRJZCwgdGhpcy5pbnB1dE5hbWUsIFwiXCIsIG5ldyBBcnJheTxJUG9pbnQ+KCksIFwiZGVzY3JpcHRpb24gZm9yIHRoZSBpbnB1dCBzaWduYWwgaGVyZVwiLCBuZXcgQ2FsY3VsYXRpb25EYXRhRGlzcGxheUluZm8oZmFsc2UsIHRydWUpKSk7XHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0SW5wdXREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZWZhdWx0T3V0cHV0RGF0YSgpOiBBcnJheTxDYWxjdWxhdGlvbkRhdGFQb2ludHM+IHtcclxuICAgICAgICBsZXQgZGVmYXVsdE91dHB1dERhdGEgPSBzdXBlci5nZXREZWZhdWx0T3V0cHV0RGF0YSgpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqICAgQWRkIHlvdXIgZGVmYXVsdCBvdXRwdXQgZGF0YSBoZXJlIChQdXNoIGl0IG9uIHRoZSBhcnJheSBkZWZhdWx0T3VwdXREYXRhKS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICogICBDb25zaWRlciB0byBzdG9yZSB0aGUgZGlzcGxheW5hbWVzIGFuZCBzaWduYWxuYW1lcyBhcyBwcml2YXRlIHByb3BlcnR5LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKiAgIEEgbWluaW1hbCBiYXNpYyBleGFtcGxlIGlzIGltcGxlbWVudGVkIHdoZXJlIG9uZSBzaWduYWwgaXMgdGhlIGRlZmF1bHQgcHV0cHV0IGRhdGEuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICBkZWZhdWx0T3V0cHV0RGF0YS5wdXNoKG5ldyBDYWxjdWxhdGlvbkRhdGFQb2ludHModGhpcy5vdXRwdXRJZCwgdGhpcy5vdXRwdXROYW1lLCB0aGlzLm91dHB1dFZhbHVlLCBuZXcgQXJyYXk8SVBvaW50PigpKSk7IFxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRPdXRwdXREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBwcmVwYXJlQ2FsY3VsYXRpb25EYXRhKCkge1xyXG4gICAgICAgIHN1cGVyLnByZXBhcmVDYWxjdWxhdGlvbkRhdGEoKTtcclxuXHJcbiAgICAgICAgLy9yZXRyaWV2ZSBjYWxjdWxhdGlvbiBpbnB1dCBkYXRhXHJcbiAgICAgICAgbGV0IGNhbGN1bGF0aW9uSW5wdXREYXRhQ29udGFpbmVyID0gdGhpcy5nZXRDYWxjdWxhdGlvbklucHV0RGF0YUNvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqICAgUGVyZm9ybSBuZWNlc3NhcnkgZGF0YSBwcmVwYXJhdGlvbnMgZm9yIHRoZSBjYWxjdWxhdG9yIGhlcmUuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICogICBUaGlzIGRhdGEgcHJlcGFyYXRpb25zIGFyZSBwZXJmb3JtZWQgYmVmb3JlIHZlcmlmaWNhdGlvbiBvZiB0aGUgY2FsY3VsYXRpb24gaW5wdXQgZGF0YSB0YWtlcyBwbGFjZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKiAgIFN0b3JlIHRoZSBjaGFuZ2VkIGRhdGEgaW4gdGhlIGRhdGEgcHJvcGVydHkgb2YgdGhlIHJlc3BlY3RpdmUgQ2FsY3VsYXRpb25JbnB1dERhdGEuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmVyaWZ5Q2FsY3VsYXRpb25JbnB1dERhdGEoKSB7XHJcbiAgICAgICAgc3VwZXIudmVyaWZ5Q2FsY3VsYXRpb25JbnB1dERhdGEoKTtcclxuXHJcbiAgICAgICAgLy9yZXRyaWV2ZSBjYWxjdWxhdGlvbiBpbnB1dCBkYXRhXHJcbiAgICAgICAgbGV0IGNhbGN1bGF0aW9uSW5wdXREYXRhQ29udGFpbmVyID0gdGhpcy5nZXRDYWxjdWxhdGlvbklucHV0RGF0YUNvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqICAgVmVyaWZ5IHRoZSBjYWxjdWxhdGlvbiBpbnB1dCBkYXRhIGhlcmUuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICogICBBZGQgYW4gZXJyb3Igd2l0aCBhZGRFcnJvckJ5VHlwZSgpIG9yIGFkZEVycm9yKCkgbWV0aG9kcyBpZCBzb21ldGhpbmcgaXMgd3JvbmcuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV4ZWN1dGVBbGdvcml0aG0oKSB7XHJcbiAgICAgICAgc3VwZXIuZXhlY3V0ZUFsZ29yaXRobSgpXHJcblxyXG4gICAgICAgIC8vcmV0cmlldmUgY2FsY3VsYXRpb24gaW5wdXQgZGF0YSBhbmQgaW5pdGlhbGl6ZSByZXN1bHRcclxuICAgICAgICBsZXQgY2FsY3VsYXRpb25JbnB1dERhdGEgPSB0aGlzLmdldENhbGN1bGF0aW9uSW5wdXREYXRhQ29udGFpbmVyKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheTxJUG9pbnQ+KCk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICogICBFeGVjdXRlIHRoZSBhbGdvcml0aG0geW91ciBjYWxjdWxhdG9yIHJlcHJlc2VudHMgaGVyZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKiAgIFN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGFsZ29yaXRobSBpbiB0aGUgYXJyYXkgcmVzdWx0LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAgICAgLy9hZGQgdGhlIHJlc3VsdCBvZiB0aGUgY2FsY3VsYXRpb24gdG8gdGhlIGNhbGN1bGF0aW9uT3V0cHVDb250YWluZXJcclxuICAgICAgICB0aGlzLmFkZENhbGN1bGF0aW9uT3V0cHV0RGF0YSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMub3V0cHV0VmFsdWUsXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMub3V0cHV0TmFtZSxcclxuICAgICAgICAgICAgaWQ6IHRoaXMub3V0cHV0SWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmVyaWZ5Q2FsY3VsYXRpb25PdXRwdXREYXRhKCl7XHJcbiAgICAgICAgc3VwZXIudmVyaWZ5Q2FsY3VsYXRpb25PdXRwdXREYXRhKCk7XHJcblxyXG4gICAgICAgIC8vcmV0cmlldmUgY2FsY3VsYXRpb24gb3V0cHV0IGRhdGFcclxuICAgICAgICBsZXQgY2FsY3VsYXRpb25PdXRwdXREYXRhQ29udGFpbmVyID0gdGhpcy5nZXRDYWxjdWxhdGlvbk91dHB1dERhdGFDb250YWluZXIoKTtcclxuICAgICAgICBcclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqICAgVmVyaWZ5IHRoZSBjYWxjdWxhdGlvbiBvdXRwdXQgZGF0YSBoZXJlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICogICBBZGQgYW4gZXJyb3Igd2l0aCBhZGRFcnJvckJ5VHlwZSgpIG9yIGFkZEVycm9yKCkgbWV0aG9kcyBpZiBzb21ldGhpbmcgaXMgd3JvbmcuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICB9XHJcbn0iXX0=